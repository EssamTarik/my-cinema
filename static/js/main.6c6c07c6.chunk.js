(this["webpackJsonpmy-cinema"]=this["webpackJsonpmy-cinema"]||[]).push([[0],{54:function(e,a,t){e.exports=t(79)},63:function(e,a,t){},64:function(e,a,t){},66:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(28),o=t.n(c),i=t(13),l=t(84),s=t(44),m=(t(63),t(21)),v=t(8),u=(t(64),t(82)),d=t(52),E=function(e){var a=e.onChange,t=Object(u.a)();return r.a.createElement(d.a.Control,{placeholder:t.formatMessage({id:"searchBar.placeholder"}),type:"text",onChange:function(e){var t=e.target.value;return a(t)}})},h=t(32),_=t(4),p=t.n(_),b=t(46),f=t(27),g=(t(66),t(83)),O=function(){var e=Object(n.useState)(!1),a=Object(h.a)(e,2),t=a[0],c=a[1],o=Object(n.useCallback)((function(){c(!t)}),[t,c]);return r.a.createElement("div",{className:"navigation-bar"},r.a.createElement("div",{className:"navigation-bar__title"},r.a.createElement(g.a,{id:"navBar.title"})),r.a.createElement("div",{className:p()("navigation-bar__menu",{"navigation-bar__menu--mobile-open":t})},r.a.createElement(m.b,{onClick:o,className:"navigation-bar__menu__item",to:""},r.a.createElement(g.a,{id:"navBar.search"})),r.a.createElement(m.b,{onClick:o,className:"navigation-bar__menu__item",to:"favorites"},r.a.createElement(g.a,{id:"navBar.favorites"})),r.a.createElement(m.b,{onClick:o,className:"navigation-bar__menu__item",to:"watch-later"},r.a.createElement(g.a,{id:"navBar.watchLater"})),r.a.createElement("button",{onClick:o,className:"navigation-bar__menu-close-btn"},r.a.createElement(f.b,{color:"white"}))),r.a.createElement("button",{onClick:o,className:"navigation-bar__menu-btn"},r.a.createElement(b.a,{size:20,color:"white"})))},A=t(39),y=Object({NODE_ENV:"production",PUBLIC_URL:"/my-cinema",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TMDB_API_KEY:"42cbedfc1bc2e5e4990db149d22bb293",REACT_APP_TMDB_API_URL:"https://api.themoviedb.org/3",REACT_APP_TMDB_IMAGE_BASE_URL:"http://image.tmdb.org/t/p"}),C=y.REACT_APP_TMDB_API_KEY,R=void 0===C?"":C,T=y.REACT_APP_TMDB_API_URL,j=void 0===T?"":T,S=y.REACT_APP_TMDB_IMAGE_BASE_URL,w=void 0===S?"":S,L=(t(68),function(e){var a,t,n=e.movie,c=e.favorite,o=void 0!==c&&c,i=e.watchLater,l=void 0!==i&&i,s=e.onAddToFavorites,m=e.onAddToWatchLater,v=e.onRemoveFromFavorites,u=e.onRemoveFromWatchLater,d=n.poster_path,E=n.original_title;return r.a.createElement("div",{className:"movie-card"},r.a.createElement("button",{onClick:o?v:s,className:"movie-card__action-btn movie-card__fav-btn"},o?r.a.createElement(f.a,{fill:"yellow"}):r.a.createElement(f.c,{fill:"lightgrey"})),r.a.createElement("button",{onClick:l?u:m,className:"movie-card__action-btn movie-card__watch-later-btn"},l?r.a.createElement(A.a,{fill:"orange"}):r.a.createElement(A.a,{fill:"grey"})),d?r.a.createElement("img",{className:"movie-card__poster",src:(a=d,t=185,"".concat(w,"/w").concat(t).concat(a)),alt:E}):r.a.createElement("div",{className:"movie-card__poster-missing"},r.a.createElement(g.a,{id:"movie.posterMissing"})),r.a.createElement("div",{className:"movie-card__title"},E))}),F=(t(69),function(e){var a=e.movies,t=e.favorites,n=e.watchLater,c=e.onAddToFavorites,o=e.onRemoveFromFavorites,i=e.onAddToWatchLater,l=e.onRemoveFromWatchLater;return 0===a.length?r.a.createElement("div",{className:"movie-grid__no-results"},r.a.createElement(g.a,{id:"movie.noResults"})):r.a.createElement("div",{className:"movie-grid"},a.map((function(e){var a=void 0!==t[e.id],s=void 0!==n[e.id];return r.a.createElement(L,{key:e.id,movie:e,favorite:a,watchLater:s,onAddToFavorites:function(){return c(e)},onAddToWatchLater:function(){return i(e)},onRemoveFromFavorites:function(){return o(e)},onRemoveFromWatchLater:function(){return l(e)}})})))}),N=(t(70),function(e){var a=e.page,t=e.totalPages,n=e.onNextClick,c=e.onPreviousClick,o=a===t,i=1===a;return r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"pagination__prev-container"},r.a.createElement("button",{onClick:c,disabled:i,className:p()("pagination__btn")},r.a.createElement(g.a,{id:"pagination.previous"}))),r.a.createElement("div",{className:"pagination__next-container"},r.a.createElement("button",{onClick:n,disabled:o,className:p()("pagination__btn")},r.a.createElement(g.a,{id:"pagination.next"}))))}),k=(t(71),function(e){var a=e.children;return r.a.createElement("div",{className:"main-layout"},r.a.createElement(O,null),r.a.createElement("div",{className:"main-layout__content"},a))}),M=t(47),P=t.n(M),I=function(e){var a=e.movies,t=e.favorites,n=e.watchLater,c=e.addFavorite,o=e.removeFavorite,i=e.addWatchLater,l=e.removeWatchLater;return r.a.createElement(F,{movies:a,favorites:t,watchLater:n,onAddToFavorites:c,onRemoveFromFavorites:o,onAddToWatchLater:i,onRemoveFromWatchLater:l})},W={addFavorite:function(e){return{type:"FAVORITE/ADD",payload:e}},removeFavorite:function(e){return{type:"FAVORITE/REMOVE",payload:e}},removeWatchLater:function(e){return{type:"WATCH_LATER/REMOVE",payload:e}},addWatchLater:function(e){return{type:"WATCH_LATER/ADD",payload:e}}},B=Object(i.b)((function(e){return{favorites:e.favorites,watchLater:e.watchLater}}),W)(I),D=function(e){var a=e.movieSearchState,t=a.isFetching,n=a.isFetched,c=a.data,o=a.error;if(t||!n||!c)return null;if(o)return r.a.createElement("div",null,o);var i=c.results;return r.a.createElement(B,{movies:i})},x=Object(i.b)((function(e){return{movieSearchState:e.movieSearch}}))(D),V=function(e){var a=e.favorites,t=Object.values(a);return r.a.createElement(B,{movies:t})},H=Object(i.b)((function(e){return{favorites:e.favorites}}))(V),U=function(e){var a=e.watchLater,t=Object.values(a);return r.a.createElement(B,{movies:t})},K=Object(i.b)((function(e){return{watchLater:e.watchLater}}))(U),G=(t(72),function(e){var a=e.movieSearchState,t=e.searchMovies,c=Object(n.useState)(""),o=Object(h.a)(c,2),i=o[0],l=o[1],s=Object(n.useCallback)((function(e,a){t(e,a)}),[t]),m=Object(n.useCallback)(P()((function(e){l(e),s(e,1)}),700),[l,s]),v=Object(n.useCallback)((function(e){s(i,e)}),[i,s]),u=a.data;return r.a.createElement("div",{className:"search-page"},r.a.createElement("div",{className:"search-page__search-bar-container"},r.a.createElement(E,{onChange:m})),r.a.createElement("div",{className:"search-page__search-results-container"},r.a.createElement(x,null)),u&&u.total_pages>0&&r.a.createElement(N,{totalPages:u.total_pages,page:u.page,onNextClick:function(){return v(u.page+1)},onPreviousClick:function(){return v(u.page-1)}}))}),J=t(22),Y=t.n(J),q=t(31),z=t(48),$=function(){var e=Object(q.a)(Y.a.mark((function e(a){var t,n,r,c,o,i=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:1,n=i.length>2&&void 0!==i[2]?i[2]:j,r=i.length>3&&void 0!==i[3]?i[3]:R,e.next=5,fetch("".concat(n,"/search/movie?").concat(Object(z.stringify)({query:a,api_key:r,page:t})));case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q={searchMovies:function(e,a){return function(){var t=Object(q.a)(Y.a.mark((function t(n){var r,c,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"MOVIE_SEARCH/START"}),e){t.next=3;break}return t.abrupt("return",n({type:"MOVIE_SEARCH/RESET"}));case 3:return t.prev=3,t.next=6,$(e,a);case 6:r=t.sent,n({type:"MOVIE_SEARCH/SUCCESS",payload:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),c=t.t0,o=c.message,n({type:"MOVIE_SEARCH/FAILED",payload:o});case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}},X=Object(i.b)((function(e){return{movieSearchState:e.movieSearch}}),Q)(G),Z=function(){return r.a.createElement(H,null)},ee=function(){return r.a.createElement(K,null)};var ae=function(){return r.a.createElement(m.a,{basename:"https://essamtarik.github.io/my-cinema"},r.a.createElement(k,null,r.a.createElement(v.a,{exact:!0,path:"/",component:X}),r.a.createElement(v.a,{exact:!0,path:"/favorites",component:Z}),r.a.createElement(v.a,{exact:!0,path:"/watch-later",component:ee})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=t(12),ne=t(49),re=t(40),ce=t(50),oe=t.n(ce),ie=t(51),le=t(9),se={isFetched:!1,isFetching:!1},me=t(18),ve={},ue={},de=Object(te.combineReducers)({movieSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MOVIE_SEARCH/START":return Object(le.a)(Object(le.a)({},se),{},{isFetching:!0});case"MOVIE_SEARCH/FAILED":return Object(le.a)(Object(le.a)({},se),{},{isFetched:!1,isFetching:!1,error:a.payload});case"MOVIE_SEARCH/SUCCESS":return Object(le.a)(Object(le.a)({},se),{},{isFetched:!0,isFetching:!1,data:a.payload});case"MOVIE_SEARCH/RESET":return se;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FAVORITE/ADD":var t=a.payload.id;return Object(le.a)(Object(le.a)({},e),{},Object(me.a)({},t,a.payload));case"FAVORITE/REMOVE":var n=a.payload.id;return delete e[n],Object(le.a)({},e);default:return e}},watchLater:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"WATCH_LATER/ADD":var t=a.payload.id;return Object(le.a)(Object(le.a)({},e),{},Object(me.a)({},t,a.payload));case"WATCH_LATER/REMOVE":var n=a.payload.id;return delete e[n],Object(le.a)({},e);default:return e}}}),Ee={key:"my-cinema",whitelist:["favorites","watchLater"],storage:oe.a},he=[ie.a],_e=Object(re.a)(Ee,de),pe=Object(te.createStore)(_e,Object(ne.composeWithDevTools)(te.applyMiddleware.apply(void 0,he))),be=Object(re.b)(pe),fe={en:Object(le.a)(Object(le.a)(Object(le.a)(Object(le.a)({},{"searchBar.placeholder":"Type the name of a movie"}),{"navBar.search":"search","navBar.watchLater":"watch later","navBar.favorites":"favorites","navBar.title":"My Cinema"}),{"movie.posterMissing":"No preview available","movie.noResults":"No movies here"}),{"pagination.next":"next","pagination.previous":"previous"})};t(78);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:pe},r.a.createElement(s.a,{loading:null,persistor:be},r.a.createElement(l.a,{locale:"en",messages:fe.en},r.a.createElement(ae,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.6c6c07c6.chunk.js.map